{{ if not .Params.notoc -}}
  {{ with .TableOfContents -}}
    {{ if ne . `<nav id="TableOfContents"></nav>` -}}
      <!-- <button id="toc-toggle">Hide</button> -->
      <div id="toc-container" class="td-toc">
        <button id="toc-toggle"><img src="/icons/notes.svg"></button>

        {{ . | safeHTML }}
      </div>
    {{ end -}}
  {{ end -}}
{{ end -}}


<!-- <style>
  .custom-static-toc {
    position: static !important;
    top: auto !important;
    height: auto !important;
    overflow-y: visible !important;
  }

  #toc-container.custom-static-toc {
    background-color: #f8f9fa;
    padding: 15px;
    border-radius: 5px;
    box-shadow: 0 0 10px rgba(0,0,0,0.1);
    max-width: none !important;
    right: auto !important;
  }
</style> -->

<!-- <style>
  #toc-container {
    /* position: fixed; */
    /* position: static !important; */
    /* right: 20px;
    top: 300px;
    max-width: 300px; */
    background-color: #f8f9fa;
    padding: 15px;
    border-radius: 5px;
    box-shadow: 0 0 10px rgba(0,0,0,0.1);
  }
</style> -->
<style>
  #toc-toggle {
    /* position: fixed; */
    /* right: 25px;
    top: 105px; */
    /* z-index: 1000; */
    background-color: #dde6e1;
    border: none;
    color: #6c757d;
    font-size: 18px;
    cursor: pointer;
    padding: 5px;
    border-radius: 3px;
  }
  #toc-toggle:hover {
    background-color: #e9ecef;
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    var tocContainer = document.getElementById('toc-container');
    var tocToggle = document.getElementById('toc-toggle');
    
    if (tocContainer && tocToggle) {
      tocToggle.addEventListener('click', function() {
        if (tocContainer.style.display === 'none') {
          tocContainer.style.display = 'block';
          tocToggle.textContent = 'Hide';
        } else {
          tocContainer.style.display = 'none';
          tocToggle.textContent = 'TOC';
        }
      });
    }
  });
</script>